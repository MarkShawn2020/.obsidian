/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => RegexReplacerPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  caseSensitive: true,
  globalReplace: true,
  searchPattern: "",
  replacePattern: ""
};
var RegexReplacerPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.addCommand({
      id: "open-regex-replacer",
      name: "Open Regex Replacer",
      callback: () => {
        new RegexReplacerModal(this.app, this).open();
      }
    });
    this.addCommand({
      id: "regex-replace-current-file",
      name: "Regex Replace in Current File",
      editorCallback: (editor, view) => {
        new RegexReplacerModal(this.app, this, editor).open();
      }
    });
    this.addSettingTab(new RegexReplacerSettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var RegexReplacerModal = class extends import_obsidian.Modal {
  constructor(app, plugin, editor) {
    super(app);
    this.plugin = plugin;
    this.editor = editor;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Regex Replacer" });
    const searchContainer = contentEl.createDiv("search-container");
    searchContainer.createEl("label", { text: "Search Pattern (Regex):" });
    this.searchInput = searchContainer.createEl("input", {
      type: "text",
      placeholder: "Enter regex pattern...",
      value: this.plugin.settings.searchPattern
    });
    this.searchInput.style.width = "100%";
    this.searchInput.style.marginBottom = "10px";
    const replaceContainer = contentEl.createDiv("replace-container");
    replaceContainer.createEl("label", { text: "Replace Pattern:" });
    this.replaceInput = replaceContainer.createEl("input", {
      type: "text",
      placeholder: "Enter replacement text...",
      value: this.plugin.settings.replacePattern
    });
    this.replaceInput.style.width = "100%";
    this.replaceInput.style.marginBottom = "10px";
    const optionsContainer = contentEl.createDiv("options-container");
    optionsContainer.style.marginBottom = "10px";
    const caseContainer = optionsContainer.createDiv();
    this.caseSensitiveToggle = caseContainer.createEl("input", {
      type: "checkbox"
    });
    this.caseSensitiveToggle.checked = this.plugin.settings.caseSensitive;
    caseContainer.createEl("label", { text: " Case Sensitive" });
    const globalContainer = optionsContainer.createDiv();
    this.globalToggle = globalContainer.createEl("input", {
      type: "checkbox"
    });
    this.globalToggle.checked = this.plugin.settings.globalReplace;
    globalContainer.createEl("label", { text: " Global Replace (replace all matches)" });
    const scopeContainer = contentEl.createDiv("scope-container");
    scopeContainer.createEl("label", { text: "Scope:" });
    this.scopeSelect = scopeContainer.createEl("select");
    this.scopeSelect.style.width = "100%";
    this.scopeSelect.style.marginBottom = "10px";
    if (this.editor) {
      this.scopeSelect.createEl("option", { value: "selection", text: "Selected Text" });
    }
    this.scopeSelect.createEl("option", { value: "current", text: "Current File" });
    this.scopeSelect.createEl("option", { value: "vault", text: "Entire Vault" });
    const buttonContainer = contentEl.createDiv("button-container");
    buttonContainer.style.display = "flex";
    buttonContainer.style.gap = "10px";
    buttonContainer.style.marginBottom = "10px";
    const previewButton = buttonContainer.createEl("button", { text: "Preview" });
    previewButton.onclick = () => this.previewReplace();
    const replaceButton = buttonContainer.createEl("button", { text: "Replace" });
    replaceButton.onclick = () => this.performReplace();
    this.resultsDiv = contentEl.createDiv("results");
    this.resultsDiv.style.marginTop = "10px";
    this.resultsDiv.style.border = "1px solid var(--background-modifier-border)";
    this.resultsDiv.style.padding = "10px";
    this.resultsDiv.style.minHeight = "100px";
    this.resultsDiv.style.maxHeight = "300px";
    this.resultsDiv.style.overflowY = "auto";
  }
  previewReplace() {
    try {
      const pattern = this.searchInput.value;
      const replacement = this.replaceInput.value;
      if (!pattern) {
        new import_obsidian.Notice("Please enter a search pattern");
        return;
      }
      const flags = this.buildRegexFlags();
      const regex = new RegExp(pattern, flags);
      const scope = this.scopeSelect.value;
      const results = [];
      if (scope === "selection" && this.editor) {
        const selection = this.editor.getSelection();
        if (selection) {
          const matches = selection.match(regex);
          if (matches) {
            results.push(`Found ${matches.length} match(es) in selection`);
            results.push(`Preview: "${selection.replace(regex, replacement)}"`);
          } else {
            results.push("No matches found in selection");
          }
        } else {
          results.push("No text selected");
        }
      } else if (scope === "current") {
        const activeFile = this.app.workspace.getActiveFile();
        if (activeFile) {
          this.app.vault.read(activeFile).then((content) => {
            const matches = content.match(regex);
            if (matches) {
              results.push(`Found ${matches.length} match(es) in ${activeFile.name}`);
              const preview = content.replace(regex, replacement);
              results.push(`Changes would be made to ${activeFile.name}`);
            } else {
              results.push(`No matches found in ${activeFile.name}`);
            }
            this.displayResults(results);
          });
          return;
        }
      } else if (scope === "vault") {
        results.push("Vault-wide preview not implemented yet");
      }
      this.displayResults(results);
    } catch (error) {
      new import_obsidian.Notice(`Invalid regex pattern: ${error.message}`);
    }
  }
  async performReplace() {
    try {
      const pattern = this.searchInput.value;
      const replacement = this.replaceInput.value;
      if (!pattern) {
        new import_obsidian.Notice("Please enter a search pattern");
        return;
      }
      const flags = this.buildRegexFlags();
      const regex = new RegExp(pattern, flags);
      const scope = this.scopeSelect.value;
      let replacementCount = 0;
      if (scope === "selection" && this.editor) {
        const selection = this.editor.getSelection();
        if (selection) {
          const newSelection = selection.replace(regex, replacement);
          const matches = selection.match(regex);
          if (matches) {
            this.editor.replaceSelection(newSelection);
            replacementCount = matches.length;
          }
        }
      } else if (scope === "current") {
        const activeFile = this.app.workspace.getActiveFile();
        if (activeFile) {
          const content = await this.app.vault.read(activeFile);
          const matches = content.match(regex);
          if (matches) {
            const newContent = content.replace(regex, replacement);
            await this.app.vault.modify(activeFile, newContent);
            replacementCount = matches.length;
          }
        }
      } else if (scope === "vault") {
        const files = this.app.vault.getMarkdownFiles();
        for (const file of files) {
          const content = await this.app.vault.read(file);
          const matches = content.match(regex);
          if (matches) {
            const newContent = content.replace(regex, replacement);
            await this.app.vault.modify(file, newContent);
            replacementCount += matches.length;
          }
        }
      }
      this.plugin.settings.searchPattern = pattern;
      this.plugin.settings.replacePattern = replacement;
      this.plugin.settings.caseSensitive = this.caseSensitiveToggle.checked;
      this.plugin.settings.globalReplace = this.globalToggle.checked;
      await this.plugin.saveSettings();
      new import_obsidian.Notice(`Replaced ${replacementCount} occurrence(s)`);
      this.close();
    } catch (error) {
      new import_obsidian.Notice(`Error during replacement: ${error.message}`);
    }
  }
  buildRegexFlags() {
    let flags = "";
    if (this.globalToggle.checked)
      flags += "g";
    if (!this.caseSensitiveToggle.checked)
      flags += "i";
    return flags;
  }
  displayResults(results) {
    this.resultsDiv.empty();
    if (results.length === 0) {
      this.resultsDiv.createEl("p", { text: "No results" });
    } else {
      results.forEach((result) => {
        this.resultsDiv.createEl("p", { text: result });
      });
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var RegexReplacerSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Regex Replacer Settings" });
    new import_obsidian.Setting(containerEl).setName("Case Sensitive by Default").setDesc("Whether regex matching should be case sensitive by default").addToggle((toggle) => toggle.setValue(this.plugin.settings.caseSensitive).onChange(async (value) => {
      this.plugin.settings.caseSensitive = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Global Replace by Default").setDesc("Whether to replace all matches by default (not just the first one)").addToggle((toggle) => toggle.setValue(this.plugin.settings.globalReplace).onChange(async (value) => {
      this.plugin.settings.globalReplace = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcblxuaW50ZXJmYWNlIFJlZ2V4UmVwbGFjZXJTZXR0aW5ncyB7XG5cdGNhc2VTZW5zaXRpdmU6IGJvb2xlYW47XG5cdGdsb2JhbFJlcGxhY2U6IGJvb2xlYW47XG5cdHNlYXJjaFBhdHRlcm46IHN0cmluZztcblx0cmVwbGFjZVBhdHRlcm46IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUmVnZXhSZXBsYWNlclNldHRpbmdzID0ge1xuXHRjYXNlU2Vuc2l0aXZlOiB0cnVlLFxuXHRnbG9iYWxSZXBsYWNlOiB0cnVlLFxuXHRzZWFyY2hQYXR0ZXJuOiAnJyxcblx0cmVwbGFjZVBhdHRlcm46ICcnXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlZ2V4UmVwbGFjZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogUmVnZXhSZXBsYWNlclNldHRpbmdzO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0Ly8gQWRkIGNvbW1hbmQgZm9yIG9wZW5pbmcgcmVnZXggcmVwbGFjZXIgbW9kYWxcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLXJlZ2V4LXJlcGxhY2VyJyxcblx0XHRcdG5hbWU6ICdPcGVuIFJlZ2V4IFJlcGxhY2VyJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdG5ldyBSZWdleFJlcGxhY2VyTW9kYWwodGhpcy5hcHAsIHRoaXMpLm9wZW4oKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEFkZCBjb21tYW5kIGZvciBxdWljayByZXBsYWNlIGluIGN1cnJlbnQgZmlsZVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ3JlZ2V4LXJlcGxhY2UtY3VycmVudC1maWxlJyxcblx0XHRcdG5hbWU6ICdSZWdleCBSZXBsYWNlIGluIEN1cnJlbnQgRmlsZScsXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0bmV3IFJlZ2V4UmVwbGFjZXJNb2RhbCh0aGlzLmFwcCwgdGhpcywgZWRpdG9yKS5vcGVuKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBBZGQgc2V0dGluZ3MgdGFiXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBSZWdleFJlcGxhY2VyU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG59XG5cbmNsYXNzIFJlZ2V4UmVwbGFjZXJNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cGx1Z2luOiBSZWdleFJlcGxhY2VyUGx1Z2luO1xuXHRlZGl0b3I/OiBFZGl0b3I7XG5cdFxuXHRzZWFyY2hJbnB1dDogSFRNTElucHV0RWxlbWVudDtcblx0cmVwbGFjZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xuXHRjYXNlU2Vuc2l0aXZlVG9nZ2xlOiBIVE1MSW5wdXRFbGVtZW50O1xuXHRnbG9iYWxUb2dnbGU6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cdHNjb3BlU2VsZWN0OiBIVE1MU2VsZWN0RWxlbWVudDtcblx0cmVzdWx0c0RpdjogSFRNTERpdkVsZW1lbnQ7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogUmVnZXhSZXBsYWNlclBsdWdpbiwgZWRpdG9yPzogRWRpdG9yKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0XHR0aGlzLmVkaXRvciA9IGVkaXRvcjtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdSZWdleCBSZXBsYWNlcicgfSk7XG5cblx0XHQvLyBTZWFyY2ggcGF0dGVybiBpbnB1dFxuXHRcdGNvbnN0IHNlYXJjaENvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ3NlYXJjaC1jb250YWluZXInKTtcblx0XHRzZWFyY2hDb250YWluZXIuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnU2VhcmNoIFBhdHRlcm4gKFJlZ2V4KTonIH0pO1xuXHRcdHRoaXMuc2VhcmNoSW5wdXQgPSBzZWFyY2hDb250YWluZXIuY3JlYXRlRWwoJ2lucHV0Jywge1xuXHRcdFx0dHlwZTogJ3RleHQnLFxuXHRcdFx0cGxhY2Vob2xkZXI6ICdFbnRlciByZWdleCBwYXR0ZXJuLi4uJyxcblx0XHRcdHZhbHVlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWFyY2hQYXR0ZXJuXG5cdFx0fSk7XG5cdFx0dGhpcy5zZWFyY2hJbnB1dC5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHR0aGlzLnNlYXJjaElucHV0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcxMHB4JztcblxuXHRcdC8vIFJlcGxhY2UgcGF0dGVybiBpbnB1dFxuXHRcdGNvbnN0IHJlcGxhY2VDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdyZXBsYWNlLWNvbnRhaW5lcicpO1xuXHRcdHJlcGxhY2VDb250YWluZXIuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnUmVwbGFjZSBQYXR0ZXJuOicgfSk7XG5cdFx0dGhpcy5yZXBsYWNlSW5wdXQgPSByZXBsYWNlQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtcblx0XHRcdHR5cGU6ICd0ZXh0Jyxcblx0XHRcdHBsYWNlaG9sZGVyOiAnRW50ZXIgcmVwbGFjZW1lbnQgdGV4dC4uLicsXG5cdFx0XHR2YWx1ZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MucmVwbGFjZVBhdHRlcm5cblx0XHR9KTtcblx0XHR0aGlzLnJlcGxhY2VJbnB1dC5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHR0aGlzLnJlcGxhY2VJbnB1dC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTBweCc7XG5cblx0XHQvLyBPcHRpb25zXG5cdFx0Y29uc3Qgb3B0aW9uc0NvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ29wdGlvbnMtY29udGFpbmVyJyk7XG5cdFx0b3B0aW9uc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTBweCc7XG5cblx0XHQvLyBDYXNlIHNlbnNpdGl2ZSB0b2dnbGVcblx0XHRjb25zdCBjYXNlQ29udGFpbmVyID0gb3B0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHR0aGlzLmNhc2VTZW5zaXRpdmVUb2dnbGUgPSBjYXNlQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtcblx0XHRcdHR5cGU6ICdjaGVja2JveCdcblx0XHR9KTtcblx0XHR0aGlzLmNhc2VTZW5zaXRpdmVUb2dnbGUuY2hlY2tlZCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmNhc2VTZW5zaXRpdmU7XG5cdFx0Y2FzZUNvbnRhaW5lci5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICcgQ2FzZSBTZW5zaXRpdmUnIH0pO1xuXG5cdFx0Ly8gR2xvYmFsIHJlcGxhY2UgdG9nZ2xlXG5cdFx0Y29uc3QgZ2xvYmFsQ29udGFpbmVyID0gb3B0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHR0aGlzLmdsb2JhbFRvZ2dsZSA9IGdsb2JhbENvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7XG5cdFx0XHR0eXBlOiAnY2hlY2tib3gnXG5cdFx0fSk7XG5cdFx0dGhpcy5nbG9iYWxUb2dnbGUuY2hlY2tlZCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdsb2JhbFJlcGxhY2U7XG5cdFx0Z2xvYmFsQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJyBHbG9iYWwgUmVwbGFjZSAocmVwbGFjZSBhbGwgbWF0Y2hlcyknIH0pO1xuXG5cdFx0Ly8gU2NvcGUgc2VsZWN0aW9uXG5cdFx0Y29uc3Qgc2NvcGVDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdzY29wZS1jb250YWluZXInKTtcblx0XHRzY29wZUNvbnRhaW5lci5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdTY29wZTonIH0pO1xuXHRcdHRoaXMuc2NvcGVTZWxlY3QgPSBzY29wZUNvbnRhaW5lci5jcmVhdGVFbCgnc2VsZWN0Jyk7XG5cdFx0dGhpcy5zY29wZVNlbGVjdC5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHR0aGlzLnNjb3BlU2VsZWN0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcxMHB4Jztcblx0XHRcblx0XHRpZiAodGhpcy5lZGl0b3IpIHtcblx0XHRcdHRoaXMuc2NvcGVTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdmFsdWU6ICdzZWxlY3Rpb24nLCB0ZXh0OiAnU2VsZWN0ZWQgVGV4dCcgfSk7XG5cdFx0fVxuXHRcdHRoaXMuc2NvcGVTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdmFsdWU6ICdjdXJyZW50JywgdGV4dDogJ0N1cnJlbnQgRmlsZScgfSk7XG5cdFx0dGhpcy5zY29wZVNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB2YWx1ZTogJ3ZhdWx0JywgdGV4dDogJ0VudGlyZSBWYXVsdCcgfSk7XG5cblx0XHQvLyBCdXR0b25zXG5cdFx0Y29uc3QgYnV0dG9uQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdignYnV0dG9uLWNvbnRhaW5lcicpO1xuXHRcdGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXHRcdGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5nYXAgPSAnMTBweCc7XG5cdFx0YnV0dG9uQ29udGFpbmVyLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcxMHB4JztcblxuXHRcdGNvbnN0IHByZXZpZXdCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1ByZXZpZXcnIH0pO1xuXHRcdHByZXZpZXdCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMucHJldmlld1JlcGxhY2UoKTtcblxuXHRcdGNvbnN0IHJlcGxhY2VCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1JlcGxhY2UnIH0pO1xuXHRcdHJlcGxhY2VCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMucGVyZm9ybVJlcGxhY2UoKTtcblxuXHRcdC8vIFJlc3VsdHMgYXJlYVxuXHRcdHRoaXMucmVzdWx0c0RpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ3Jlc3VsdHMnKTtcblx0XHR0aGlzLnJlc3VsdHNEaXYuc3R5bGUubWFyZ2luVG9wID0gJzEwcHgnO1xuXHRcdHRoaXMucmVzdWx0c0Rpdi5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKSc7XG5cdFx0dGhpcy5yZXN1bHRzRGl2LnN0eWxlLnBhZGRpbmcgPSAnMTBweCc7XG5cdFx0dGhpcy5yZXN1bHRzRGl2LnN0eWxlLm1pbkhlaWdodCA9ICcxMDBweCc7XG5cdFx0dGhpcy5yZXN1bHRzRGl2LnN0eWxlLm1heEhlaWdodCA9ICczMDBweCc7XG5cdFx0dGhpcy5yZXN1bHRzRGl2LnN0eWxlLm92ZXJmbG93WSA9ICdhdXRvJztcblx0fVxuXG5cdHByZXZpZXdSZXBsYWNlKCkge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwYXR0ZXJuID0gdGhpcy5zZWFyY2hJbnB1dC52YWx1ZTtcblx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gdGhpcy5yZXBsYWNlSW5wdXQudmFsdWU7XG5cdFx0XHRcblx0XHRcdGlmICghcGF0dGVybikge1xuXHRcdFx0XHRuZXcgTm90aWNlKCdQbGVhc2UgZW50ZXIgYSBzZWFyY2ggcGF0dGVybicpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGZsYWdzID0gdGhpcy5idWlsZFJlZ2V4RmxhZ3MoKTtcblx0XHRcdGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCBmbGFncyk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IHNjb3BlID0gdGhpcy5zY29wZVNlbGVjdC52YWx1ZTtcblx0XHRcdGNvbnN0IHJlc3VsdHM6IHN0cmluZ1tdID0gW107XG5cblx0XHRcdGlmIChzY29wZSA9PT0gJ3NlbGVjdGlvbicgJiYgdGhpcy5lZGl0b3IpIHtcblx0XHRcdFx0Y29uc3Qgc2VsZWN0aW9uID0gdGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdGlmIChzZWxlY3Rpb24pIHtcblx0XHRcdFx0XHRjb25zdCBtYXRjaGVzID0gc2VsZWN0aW9uLm1hdGNoKHJlZ2V4KTtcblx0XHRcdFx0XHRpZiAobWF0Y2hlcykge1xuXHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKGBGb3VuZCAke21hdGNoZXMubGVuZ3RofSBtYXRjaChlcykgaW4gc2VsZWN0aW9uYCk7XG5cdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goYFByZXZpZXc6IFwiJHtzZWxlY3Rpb24ucmVwbGFjZShyZWdleCwgcmVwbGFjZW1lbnQpfVwiYCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCgnTm8gbWF0Y2hlcyBmb3VuZCBpbiBzZWxlY3Rpb24nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCdObyB0ZXh0IHNlbGVjdGVkJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoc2NvcGUgPT09ICdjdXJyZW50Jykge1xuXHRcdFx0XHRjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdFx0aWYgKGFjdGl2ZUZpbGUpIHtcblx0XHRcdFx0XHR0aGlzLmFwcC52YXVsdC5yZWFkKGFjdGl2ZUZpbGUpLnRoZW4oY29udGVudCA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBtYXRjaGVzID0gY29udGVudC5tYXRjaChyZWdleCk7XG5cdFx0XHRcdFx0XHRpZiAobWF0Y2hlcykge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goYEZvdW5kICR7bWF0Y2hlcy5sZW5ndGh9IG1hdGNoKGVzKSBpbiAke2FjdGl2ZUZpbGUubmFtZX1gKTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJldmlldyA9IGNvbnRlbnQucmVwbGFjZShyZWdleCwgcmVwbGFjZW1lbnQpO1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goYENoYW5nZXMgd291bGQgYmUgbWFkZSB0byAke2FjdGl2ZUZpbGUubmFtZX1gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaChgTm8gbWF0Y2hlcyBmb3VuZCBpbiAke2FjdGl2ZUZpbGUubmFtZX1gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheVJlc3VsdHMocmVzdWx0cyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHNjb3BlID09PSAndmF1bHQnKSB7XG5cdFx0XHRcdHJlc3VsdHMucHVzaCgnVmF1bHQtd2lkZSBwcmV2aWV3IG5vdCBpbXBsZW1lbnRlZCB5ZXQnKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5kaXNwbGF5UmVzdWx0cyhyZXN1bHRzKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0bmV3IE5vdGljZShgSW52YWxpZCByZWdleCBwYXR0ZXJuOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgcGVyZm9ybVJlcGxhY2UoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBhdHRlcm4gPSB0aGlzLnNlYXJjaElucHV0LnZhbHVlO1xuXHRcdFx0Y29uc3QgcmVwbGFjZW1lbnQgPSB0aGlzLnJlcGxhY2VJbnB1dC52YWx1ZTtcblx0XHRcdFxuXHRcdFx0aWYgKCFwYXR0ZXJuKSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1BsZWFzZSBlbnRlciBhIHNlYXJjaCBwYXR0ZXJuJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZmxhZ3MgPSB0aGlzLmJ1aWxkUmVnZXhGbGFncygpO1xuXHRcdFx0Y29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHBhdHRlcm4sIGZsYWdzKTtcblx0XHRcdFxuXHRcdFx0Y29uc3Qgc2NvcGUgPSB0aGlzLnNjb3BlU2VsZWN0LnZhbHVlO1xuXHRcdFx0bGV0IHJlcGxhY2VtZW50Q291bnQgPSAwO1xuXG5cdFx0XHRpZiAoc2NvcGUgPT09ICdzZWxlY3Rpb24nICYmIHRoaXMuZWRpdG9yKSB7XG5cdFx0XHRcdGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRpZiAoc2VsZWN0aW9uKSB7XG5cdFx0XHRcdFx0Y29uc3QgbmV3U2VsZWN0aW9uID0gc2VsZWN0aW9uLnJlcGxhY2UocmVnZXgsIHJlcGxhY2VtZW50KTtcblx0XHRcdFx0XHRjb25zdCBtYXRjaGVzID0gc2VsZWN0aW9uLm1hdGNoKHJlZ2V4KTtcblx0XHRcdFx0XHRpZiAobWF0Y2hlcykge1xuXHRcdFx0XHRcdFx0dGhpcy5lZGl0b3IucmVwbGFjZVNlbGVjdGlvbihuZXdTZWxlY3Rpb24pO1xuXHRcdFx0XHRcdFx0cmVwbGFjZW1lbnRDb3VudCA9IG1hdGNoZXMubGVuZ3RoO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChzY29wZSA9PT0gJ2N1cnJlbnQnKSB7XG5cdFx0XHRcdGNvbnN0IGFjdGl2ZUZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdFx0XHRpZiAoYWN0aXZlRmlsZSkge1xuXHRcdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGFjdGl2ZUZpbGUpO1xuXHRcdFx0XHRcdGNvbnN0IG1hdGNoZXMgPSBjb250ZW50Lm1hdGNoKHJlZ2V4KTtcblx0XHRcdFx0XHRpZiAobWF0Y2hlcykge1xuXHRcdFx0XHRcdFx0Y29uc3QgbmV3Q29udGVudCA9IGNvbnRlbnQucmVwbGFjZShyZWdleCwgcmVwbGFjZW1lbnQpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KGFjdGl2ZUZpbGUsIG5ld0NvbnRlbnQpO1xuXHRcdFx0XHRcdFx0cmVwbGFjZW1lbnRDb3VudCA9IG1hdGNoZXMubGVuZ3RoO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChzY29wZSA9PT0gJ3ZhdWx0Jykge1xuXHRcdFx0XHRjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcblx0XHRcdFx0Zm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG5cdFx0XHRcdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG5cdFx0XHRcdFx0Y29uc3QgbWF0Y2hlcyA9IGNvbnRlbnQubWF0Y2gocmVnZXgpO1xuXHRcdFx0XHRcdGlmIChtYXRjaGVzKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBuZXdDb250ZW50ID0gY29udGVudC5yZXBsYWNlKHJlZ2V4LCByZXBsYWNlbWVudCk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgbmV3Q29udGVudCk7XG5cdFx0XHRcdFx0XHRyZXBsYWNlbWVudENvdW50ICs9IG1hdGNoZXMubGVuZ3RoO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIHNldHRpbmdzXG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWFyY2hQYXR0ZXJuID0gcGF0dGVybjtcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJlcGxhY2VQYXR0ZXJuID0gcmVwbGFjZW1lbnQ7XG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jYXNlU2Vuc2l0aXZlID0gdGhpcy5jYXNlU2Vuc2l0aXZlVG9nZ2xlLmNoZWNrZWQ7XG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxSZXBsYWNlID0gdGhpcy5nbG9iYWxUb2dnbGUuY2hlY2tlZDtcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG5cdFx0XHRuZXcgTm90aWNlKGBSZXBsYWNlZCAke3JlcGxhY2VtZW50Q291bnR9IG9jY3VycmVuY2UocylgKTtcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0bmV3IE5vdGljZShgRXJyb3IgZHVyaW5nIHJlcGxhY2VtZW50OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdFx0fVxuXHR9XG5cblx0YnVpbGRSZWdleEZsYWdzKCk6IHN0cmluZyB7XG5cdFx0bGV0IGZsYWdzID0gJyc7XG5cdFx0aWYgKHRoaXMuZ2xvYmFsVG9nZ2xlLmNoZWNrZWQpIGZsYWdzICs9ICdnJztcblx0XHRpZiAoIXRoaXMuY2FzZVNlbnNpdGl2ZVRvZ2dsZS5jaGVja2VkKSBmbGFncyArPSAnaSc7XG5cdFx0cmV0dXJuIGZsYWdzO1xuXHR9XG5cblx0ZGlzcGxheVJlc3VsdHMocmVzdWx0czogc3RyaW5nW10pIHtcblx0XHR0aGlzLnJlc3VsdHNEaXYuZW1wdHkoKTtcblx0XHRpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcblx0XHRcdHRoaXMucmVzdWx0c0Rpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ05vIHJlc3VsdHMnIH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcblx0XHRcdFx0dGhpcy5yZXN1bHRzRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiByZXN1bHQgfSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59XG5cbmNsYXNzIFJlZ2V4UmVwbGFjZXJTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogUmVnZXhSZXBsYWNlclBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBSZWdleFJlcGxhY2VyUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1JlZ2V4IFJlcGxhY2VyIFNldHRpbmdzJyB9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0Nhc2UgU2Vuc2l0aXZlIGJ5IERlZmF1bHQnKVxuXHRcdFx0LnNldERlc2MoJ1doZXRoZXIgcmVnZXggbWF0Y2hpbmcgc2hvdWxkIGJlIGNhc2Ugc2Vuc2l0aXZlIGJ5IGRlZmF1bHQnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jYXNlU2Vuc2l0aXZlKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FzZVNlbnNpdGl2ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdHbG9iYWwgUmVwbGFjZSBieSBEZWZhdWx0Jylcblx0XHRcdC5zZXREZXNjKCdXaGV0aGVyIHRvIHJlcGxhY2UgYWxsIG1hdGNoZXMgYnkgZGVmYXVsdCAobm90IGp1c3QgdGhlIGZpcnN0IG9uZSknKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxSZXBsYWNlKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2xvYmFsUmVwbGFjZSA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBQW1HO0FBU25HLElBQU0sbUJBQTBDO0FBQUEsRUFDL0MsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2YsZ0JBQWdCO0FBQ2pCO0FBRUEsSUFBcUIsc0JBQXJCLGNBQWlELHVCQUFPO0FBQUEsRUFHdkQsTUFBTSxTQUFTO0FBQ2QsVUFBTSxLQUFLLGFBQWE7QUFHeEIsU0FBSyxXQUFXO0FBQUEsTUFDZixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU07QUFDZixZQUFJLG1CQUFtQixLQUFLLEtBQUssSUFBSSxFQUFFLEtBQUs7QUFBQSxNQUM3QztBQUFBLElBQ0QsQ0FB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
